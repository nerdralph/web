<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AAN query</title>
  </head>
  <body style="background-color:LightSkyBlue;">
    <h1 style="color:DarkGreen;">Solar Si</h1>
    <p>Helping Nova Scotians save energy.</p>
    <label>AAN:</label>
    <input type="tel" minlength="8" maxlength="8" size="8" pattern="[0-9]+" onblur="fillAddr(this)">
	<div>
    <label id="addr">data: </label>
	<script>
    "use strict";
    const AAN76 = "07880782";
    const AAN126 = "03298671"
    function fetchAAN(aan) {
        fetch("https://www.thedatazone.ca/resource/a859-xvcs.json?aan=" + aan)
            .then(response => response.json())
            .then(data => document.getElementById("addr").innerHTML = "data: " + JSON.stringify(data[0]));
            //.then(data => document.getElementById("addr").value = JSON.stringify(data[0]));
            //.then(data => console.log(data[0]["address_street"]));
    }
	function fillAddr(e) {
        //document.getElementById("addr").value = "123 MAIN ST";
        fetchAAN(e.value);
    }
	</script>
  </body>
</html>
